<div class="pt-8 pb-8 flex flex-col gap-10">
  <app-hero-section [title]="heroTitle" [description]="heroDescription" />
  <section class="flex items-center justify-between">
    <!--          <h2 class="text-2xl">Upcoming Events</h2>-->
    <div class="flex items-center gap-8 w-full h-full">
      <div class="relative flex items-center min-w-1/4">
        <fa-icon [icon]="faMagnifyingGlass" class="absolute left-4 text-gray-400" />
        <input
          type="text"
          placeholder="Search events..."
          id="eventSearch"
          class="w-full pt-2 pb-2 pr-2 pl-12 placeholder:text-gray-400 border rounded-4xl border-gray-300 shadow-sm focus:outline-none focus:border-gray-400"
        />
      </div>
      <div class="flex gap-2">
        <button
          [class.active]="selectedFilter() === Filter.AllEvents"
          (click)="selectFilter(Filter.AllEvents)"
          class="relative overflow-hidden px-3 cursor-pointer before:content-['']
                    before:absolute before:bottom-0 before:left-1/2 before:w-0 before:h-px before:bg-gray-300 before:transition-all before:duration-300
                    hover:not-[&.active]:before:w-11/12 hover:not-[&.active]:before:left-[5%]
                    [&.active]:before:w-11/12 [&.active]:before:left-[5%] [&.active]:font-semibold [&.active]:before:bg-black"
        >
          All Events
        </button>
        <button
          [class.active]="selectedFilter() === Filter.Today"
          (click)="selectFilter(Filter.Today)"
          class="relative overflow-hidden px-3 cursor-pointer before:content-['']
                    before:absolute before:bottom-0 before:left-1/2 before:w-0 before:h-px before:bg-gray-300 before:transition-all before:duration-300
                    hover:not-[&.active]:before:w-11/12 hover:not-[&.active]:before:left-[5%]
                    [&.active]:before:w-11/12 [&.active]:before:left-[5%] [&.active]:font-semibold [&.active]:before:bg-black"
        >
          Today
        </button>
        <button
          [class.active]="selectedFilter() === Filter.Weekend"
          (click)="selectFilter(Filter.Weekend)"
          class="relative overflow-hidden px-3 cursor-pointer before:content-['']
                    before:absolute before:bottom-0 before:left-1/2 before:w-0 before:h-px before:bg-gray-300 before:transition-all before:duration-300
                    hover:not-[&.active]:before:w-11/12 hover:not-[&.active]:before:left-[5%]
                    [&.active]:before:w-11/12 [&.active]:before:left-[5%] [&.active]:font-semibold [&.active]:before:bg-black"
        >
          Weekend
        </button>
      </div>
    </div>
    <div class="flex gap-1 p-1 border border-gray-300 shadow-sm rounded-4xl">
      <button
        [class.active]="viewMode() === EventListingView.Grid"
        (click)="selectViewMode(EventListingView.Grid)"
        class="px-3 pt-1 pb-1 transition-all duration-300 rounded-4xl cursor-pointer text-gray-500 hover:text-black [&.active]:text-black [&.active]:bg-gray-200"
      >
        <fa-icon [icon]="faTableCells" class="text-xl" />
      </button>
      <button
        [class.active]="viewMode() === EventListingView.List"
        (click)="selectViewMode(EventListingView.List)"
        class="px-3 pt-1 pb-1 transition-all duration-300 rounded-4xl cursor-pointer text-gray-500 hover:text-black [&.active]:text-black [&.active]:bg-gray-200"
      >
        <fa-icon [icon]="faListUl" class="text-xl" />
      </button>
    </div>
  </section>
  <section [class.grid]="viewMode() === EventListingView.Grid" [class.grid-cols-3]="viewMode() === EventListingView.Grid"
           [class.flex]="viewMode() === EventListingView.List"  [class.flex-col]="viewMode() === EventListingView.List"
           [class.self-center]="viewMode() === EventListingView.List" [class]="{ 'min-w-2/3': viewMode() === EventListingView.List }"
           [class.max-w-5xl]="viewMode() === EventListingView.List"
           class="gap-6">
    @for (event of events; track event.id) {
      <app-event-listing-card [event]="event" [viewMode]="viewMode()" />
    }

    @if (filteredEvents.length === 0) {
      <p class="text-center col-span-4">No events found.</p>
    }
  </section>
</div>
